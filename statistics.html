<!DOCTYPE html>
<!-- Created By CodingNepal - www.codingnepalweb.com -->
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>AFAS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="popup.js"></script>
    <!-- Include chartjs-plugin-datalabels plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css"
    />
  </head>
  <body>
    <nav>
      <input type="checkbox" id="check" />
      <label for="check" class="checkbtn">
        <i class="fas fa-bars"></i>
      </label>
      <label class="logo"
        ><i class="fa-solid fa-house-fire fa-fade fa-xs"></i> AFAS</label
      >
      <ul>
        <li><a href="index.html">Dashboard</a></li>
        <li><a class="active" href="statistics.html">Statistics</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="about.html">About</a></li>
      </ul>
    </nav>
    <section>
      <div class="buttons">
        <button class="print">Print</button>
        <button class="addreport" onclick="openPopup()">Add Record</button>
      </div>
      <div class="piechart">
        <canvas id="barangayPieChart"></canvas>

        <script>
          // Assuming you have data for barangays in Gensan
          var barangayData = {
            labels: [
              "Barangay1",
              "Barangay2",
              "Barangay3",
              "Barangay4",
              "Barangay5",
            ],
            datasets: [
              {
                data: [30, 20, 15, 10, 25], // You should replace these values with the actual data
                backgroundColor: [
                  "#FF6384",
                  "#36A2EB",
                  "#FFCE56",
                  "#4CAF50",
                  "#9966FF",
                ],
              },
            ],
          };

          // Get the canvas element
          var ctx = document
            .getElementById("barangayPieChart")
            .getContext("2d");

          // Create a pie chart
          var myPieChart = new Chart(ctx, {
            type: "pie",
            data: barangayData,
            options: {
              title: {
                display: true,
                text: "Barangays in Gensan",
              },
              plugins: {
                datalabels: {
                  color: "#fff", // Set label text color
                  font: {
                    size: 12, // Set label font size
                  },
                  formatter: function (value, context) {
                    return context.chart.data.labels[context.dataIndex];
                  },
                },
              },
              legend: {
                display: false,
                position: "top",
                align: "start",
              },
            },
          });
        </script>
      </div>
      <div class="areachart">
        <canvas id="barangayAreaChart" width="400" height="400"></canvas>

        <script>
          // Assuming you have data for differences between barangays in Gensan
          var differenceData = {
            labels: [
              "Barangay1",
              "Barangay2",
              "Barangay3",
              "Barangay4",
              "Barangay5",
            ],
            datasets: [
              {
                data: [30, -10, -5, -5, 15], // Differences between barangays
                backgroundColor: "rgba(153, 102, 255, 0.2)", // Area fill color
                borderColor: "rgba(153, 102, 255, 1)", // Line color
                borderWidth: 2, // Line width
                fill: "start", // Fill area from the start of the line
              },
            ],
          };

          // Get the canvas element
          var ctx = document
            .getElementById("barangayAreaChart")
            .getContext("2d");

          // Create an area chart
          var myAreaChart = new Chart(ctx, {
            type: "line",
            data: differenceData,
            options: {
              aspectRatio: 800 / 500,
              title: {
                display: true,
                text: "Difference Between Barangays in Gensan",
              },
              plugins: {
                datalabels: {
                  color: "#fff", // Set label text color
                  font: {
                    size: 12, // Set label font size
                  },
                  formatter: function (value) {
                    return value; // Display the difference value on hover
                  },
                },
              },
              scales: {
                x: {
                  display: true,
                  title: {
                    display: true,
                    text: "Barangays",
                  },
                },
                y: {
                  display: true,
                  title: {
                    display: true,
                    text: "Difference",
                  },
                },
              },
            },
          });
        </script>
      </div>
      <div id="overlay">
        <div id="popup">
          <span id="close-btn" onclick="closePopup()">X</span>
          <!-- Your popup content goes here -->
          <h2>Add Report</h2>
          <p>Diri and mga forms ibutang para sa report</p>
          <button id="close-popup-btn" onclick="closePopup()">
            Close Popup
          </button>
        </div>
      </div>
    </section>
  </body>
</html>
